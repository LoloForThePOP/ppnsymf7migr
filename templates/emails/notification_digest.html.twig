{% extends 'emails/base.html.twig' %}
{% set emailTitle = 'Récapitulatif hebdomadaire' %}
{% set maxWidth = '640px' %}
{% set greetingName = recipientName|default('') %}

{% block title %}{{ emailTitle }}{% endblock %}
{% block preheader %}Votre récapitulatif des notifications.{% endblock %}

{% block content %}
  <div style="font-size:18px;font-weight:700;color:#0f172a;">
    {{ emailTitle }}
  </div>
  <div style="margin-top:10px;font-size:14px;color:#475569;">
    Bonjour{% if greetingName %} {{ greetingName }}{% endif %},
  </div>
  <div style="margin-top:12px;font-size:14px;color:#475569;">
    Période : {{ periodStart|default('') }} &rarr; {{ periodEnd|default('') }}
  </div>
  <div style="margin-top:18px;">
    {% for entry in entries|default([]) %}
      <div style="padding:14px 16px;border:1px solid #e5e7eb;border-radius:10px;margin-bottom:12px;">
        <div style="font-weight:600;color:#0f172a;margin-bottom:6px;">
          {{ entry.title }}
        </div>
        {% if entry.lines is defined %}
          {% for line in entry.lines %}
            <div style="font-size:13px;line-height:1.4;color:#374151;margin-bottom:4px;">
              {{ line }}
            </div>
          {% endfor %}
        {% endif %}
        {% if entry.url is defined and entry.url %}
          <div style="margin-top:8px;">
            <a href="{{ entry.url }}" style="font-size:13px;color:#0f766e;text-decoration:none;font-weight:600;">Voir</a>
          </div>
        {% endif %}
      </div>
    {% else %}
      <div style="font-size:14px;color:#475569;">
        Aucune notification récente.
      </div>
    {% endfor %}
  </div>
  <div style="margin-top:18px;font-size:12px;color:#94a3b8;">
    Vous recevez cet e-mail car vous avez des notifications mises en attente.
  </div>
{% endblock %}

{% block footer_note %}Propon &bull; Notification automatique{% endblock %}
