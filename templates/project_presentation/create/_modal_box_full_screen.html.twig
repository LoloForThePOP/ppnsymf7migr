
{# This modal contains form content #}

<div  id="createPPModal" class="modal" tabindex="-1" aria-hidden="true">

    <div class="modal-dialog modal-fullscreen">

        <div class="modal-content">
            
            <div class="box-header">
            
                <div>

                    <a class="ms-2 ms-md-5 me-3" href="/">

                        <img class="website-logo" src="/media/static/images/propon_logo.svg" alt="website logo" loading="lazy"/>

                    </a>

                    <span class="box-title">
                    
                        Ajouter un Projet

                    </span>       
                
                
                </div>

                <a href="{{path ('homepage')}}">
                
                    <button type="button" class="btn btn-outline-dark" >Quitter</button>
                
                </a>

                <style>
                
                    .box-header{
                        
                        display: flex;
                        align-items: center;
                        justify-content: space-around;

                        height: 74px;
                        background-color: white;
                    
                    
                    }

                    .website-logo{
                        width: 135px;
                    }


                    .box-title{
                        font-size: 15px;
                        color: #094171;
                    }

                    @media (max-width: 576px) {

                        .website-logo{
                            width: 75px;
                        }

                    }
                
                </style>

            </div>


            <div class="box-progress-bar" style="margin-bottom: 50px;">

                <div class="progress-line" style="width: {{ progressionPercentage }}%; height: 4px; background-color: orange; ; position: relative;"></div>

            </div>

            


            <div class="box-content">
                    
                <div class="form-container form text-center" data-track-view='{"key":"pres-help-step-{{ position }}", "attributes":{"uniqueName": "{{currentItem.type}}"} }'>

                    {% include "project_presentation/create/_form.html.twig" %}

                </div>
            
            </div>  

        </div>

    </div>

</div>

<style>

    {# Make progress line become an arrow #}

    .progress-line::after {
        content: "";
        position: absolute;
        right: -8px;
        top: 50%;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-left: 10px solid orange;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
    }

    {# Background colors for large screens #}

        @media screen and (min-width: 580px) {

        #createPPModal .modal-content{


            background-color: #f7ffe4;


        }

        .box-content{

            display: flex;
            justify-content: center;
        }


            

        .form-container{

            width: 1000px;

            padding: 50px;
            min-height: unset;

            border-radius: 15px;
            background-color: white;

        }

        }

        

    @media screen and (max-width: 580px) {

        #createPPModal{

            padding-left: 0px;
            padding-right: 0px;

        }

        .box-content{
            margin: 0 0;
        }

        .fs-4{
            font-size: 19px !important;
        }

        .sm-fs-4{
            font-size: 16px;
        }

    }

</style>


{# Create and show the modal #}
<script>

    document.addEventListener('DOMContentLoaded', () => 
    
    {

        const modalEl = document.getElementById('createPPModal');

        // Make sure Bootstrapâ€™s JS is loaded
        if (typeof bootstrap === 'undefined') {
            return console.error('Bootstrap JS is not loaded (check bootstrap.bundle.js inclusion)');
        }

        // Create and show the modal
        const autoModal = new bootstrap.Modal(modalEl, {
            backdrop: 'static', // optional: prevent closing by clicking outside
            keyboard: true      // allow closing with the ESC key
        });

        autoModal.show();
    
    });

</script>
