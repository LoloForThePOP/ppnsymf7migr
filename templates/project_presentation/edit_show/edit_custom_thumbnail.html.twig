
{% embed "project_presentation/edit_show/skeletons/update_element.html.twig" %}

    {% block headTag %}<meta name="robots" content="noindex, nofollow" />{% endblock %}

    {% block title %}Thumbnail (Vignette){% endblock %}

    {% block mainContentTitle %}Vignette de présentation du projet (thumbnail){% endblock %}


    {% block moreInfoButtonLabel %}Aide{% endblock %}

    {% block moreInfoContent %}La vignette (= thumbnail) est l'image qui donne accès à la présentation de votre projet. Elle apparaît sur la page d'accueil du site, dans le moteur de recherche, et dans les suggestions. Choisissez une vignette qui représente votre projet et qui donne envie de le découvrir.{% endblock %}    

    {% block mainContent %}
        
        <div class="">

            <div class="mb-5 text-center">

                <h5 class="fw-bold mb-3">Vignette actuelle</h5>
                    
                {% if presentation.getExtra.getCacheThumbnailUrl is not empty %}

                    <img class="thumbnail" src="{{ presentation.getExtra.getCacheThumbnailUrl }}" alt="Presentation Thumbnail">
            
                {% else %} {# no cached thumbnail : default avatar #}


                    {% set defaultThumbnailBG = ['#884394', '#3f51b5', '#009688', '#42a346', '#ff9800', '#2d66ba', '#a58f4f', '#129d90', '#428392', '#263b78', '#878273', '#705c20', '#d24040', '#c1944e'] %}

                    <div class="avatar-square-rounded avatar-80 mx-auto" style="background-color: {{ random (defaultThumbnailBG) }} !important;" >
                        
                        <span class="avatar-initial avatar-initial-80">

                        {{ presentation.goal | slice (0,1) | upper }}

                        </span>

                    </div>       

                {% endif %}

            </div>
            
            <div class="fw-bold mb-3 h5 text-center"> 
                Pour modifier la vignette cliquez ci-dessous.
            </div>

            <div class="">

                {{ form_errors(form.customThumbnailFile) }}

            </div>
            
            <div class="mt-2">
                
                {{ form_widget(form.customThumbnailFile) }}

            </div>
            
        </div>

        
        <div class="d-none">

            {{ form_rest(form) }}

        </div>


        <style>
        
            .thumbnail{

                max-width: 300px;
                max-height: 300px;

            }
            
            @media screen and (max-width: 580px) {

                            
                .thumbnail {
                    max-width: 100%;
                    max-height: 300px;
                }

            }

        </style>
        

    {% endblock %}


     {% block actionButtons %}

        <div class="action-buttons-container text-center">


            {# Back to Result Button #}

            <a 
            
                class="text-decoration-none text-white" 
                href="{{path('edit_show_project_presentation', {'stringId': presentation.stringId })}}#{% block seeResultAnchor %}{% endblock %}">

                <button type="button" class="btn btn-lg btn-go-back mb-2  me-3">Retour</button>

            </a>
            
            {# Update Form Valitation Button #}

            <button class="btn btn-lg btn-validate mb-2">Valider</button>

        </div>

    {% endblock %}

{% endembed %}


