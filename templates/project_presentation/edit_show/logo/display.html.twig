
{# Case a logo is set, we display the logo and we cover it with a link to update it on click #}
{% if not presentation.logo is empty %}
    {% set logoPath = vich_uploader_asset(presentation, 'logoFile') %}
    {% set logoExt = presentation.logo|lower|split('.')|last %}

    <div class="pp-logo-plate">
        <div class="pp-logo-chip">
            {% if logoExt == 'svg' %}
                <img id="pp-logo" class="img-fluid" src="{{ logoPath }}" alt="Logo du Projet">
            {% else %}
                <img id="pp-logo" class="img-fluid" src="{{ logoPath | imagine_filter('logo') }}" alt="Logo du Projet">
            {% endif %}
        </div>
    </div>

    {% if userPresenter %}
        <a class="pp-edition-mode coverable-link" href="{{ path('update_project_presentation_logo', {'stringId': presentation.stringId}) }}"></a>
    {% endif %}

{# Case no logo is set, we display a logo placeholder, when user click on it he can choose an image to set the logo #}
{# This triggering (browse to select a file and submit the form) is implemented in add_logo_form.html.twig #}
{% else %}

    <a id="logoPlaceholder" class="pp-edition-mode text-decoration-none">

        <img class="no-logo-image img-fluid" src="{{ asset('no_logo.svg', 'pp_wysiwyg') }}" height="90" width="90" alt="add a logo icon" >

        <div class="no-logo-text">Logo</div>

    </a>

    {% if addLogoForm is defined %}
        {% include 'project_presentation/edit_show/logo/add_form.html.twig' %}
    {% endif %}

{% endif %}


<style>

    .pp-logo-plate{
        padding: 6px;
        border-radius: 10px;
        background-color: color-mix(in srgb, var(--theme-surface) 70%, var(--theme-bg));
        border: 1px solid var(--theme-border);
    }

    .pp-logo-chip{
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
        border-radius: 8px;
        background-color: var(--pp-logo-chip-bg, var(--theme-surface));
        border: 1px solid var(--pp-logo-chip-border, var(--theme-border));
    }

    #pp-logo{
        display: block;
        margin: 0;
        border-radius: 6px;
    }

    html[data-theme-variant="custom"][data-theme="dark"] .pp-logo-chip,
    html[data-theme-variant="custom"][data-theme="neon"] .pp-logo-chip,
    html[data-theme-variant="custom"][data-theme="matrix"] .pp-logo-chip,
    html[data-theme-variant="custom"][data-theme="luxury-black"] .pp-logo-chip,
    html[data-theme-variant="custom"][data-theme="deep-ocean"] .pp-logo-chip {
        --pp-logo-chip-bg: color-mix(in srgb, var(--theme-text) 92%, var(--theme-surface));
        --pp-logo-chip-border: color-mix(in srgb, var(--theme-text) 50%, var(--theme-border));
    }

    .pp-logo-container .edit-icon-position{

        position: absolute; 

        bottom:0; 
        right:0; 
        
        width:30px; 
        height:30px;

        background-color: var(--theme-surface);
    
    }


    #logoPlaceholder{

        position: relative;

        display: flex;
        align-items: center;
        justify-content: center;

        min-height: 140px;
        width: 100%;

        border: 1px solid var(--theme-border);
        border-radius: 6px;

    }

    #logoPlaceholder:hover {
        cursor: pointer;
        background-color: color-mix(in srgb, var(--theme-accent) 12%, var(--theme-surface));
    }

    .no-logo-text{
        position: absolute;
        top: 34%;
        font-weight: bold;
        font-size: 28px;
        background-color: var(--theme-surface);
        opacity: 89.4%;

    }



    @media screen and (max-width: 580px) {

        .pp-logo-plate{
            padding: 4px;
            border-radius: 8px;
        }

        .pp-logo-chip{
            padding: 4px;
            border-radius: 6px;
        }

        #pp-logo{
            border-radius: 4px;
            max-width: 70px;
            max-height: 70px;
        }

        .pp-logo-container .edit-icon-position{
    
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
        
        }


        #logoPlaceholder{
            padding: 15px;
            min-height: initial;
            
        }

            
        .no-logo-text{
            
            top: 31%;
            font-size: 16px;

        }


    }

</style>
