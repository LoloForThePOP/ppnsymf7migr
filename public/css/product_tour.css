:root {
    --tour-backdrop: rgba(10, 12, 20, 0.62);
    --tour-accent: var(--theme-accent, #3b82f6);
    --tour-card-radius: 16px;
    --tour-card-shadow: 0 22px 48px rgba(0, 0, 0, 0.35);
}

html.tour-lock,
body.tour-lock {
    overflow: hidden;
    height: 100%;
    touch-action: none;
}

.tour-blocker {
    position: fixed;
    inset: 0;
    z-index: 9990;
    background: transparent;
    cursor: not-allowed;
}

.tour-spotlight {
    position: fixed;
    z-index: 9991;
    pointer-events: none;
    border-radius: 14px;
    border: 2px solid color-mix(in srgb, var(--tour-accent) 70%, #ffffff);
    box-shadow: 0 0 0 9999px var(--tour-backdrop);
}

.tour-spotlight::after {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: inherit;
    border: 2px solid color-mix(in srgb, var(--tour-accent) 60%, transparent);
    animation: tour-pulse 1.8s ease-out infinite;
    opacity: 0.9;
}

.tour-card {
    position: fixed;
    z-index: 9992;
    max-width: min(360px, 92vw);
    background-color: var(--theme-surface);
    color: var(--theme-text);
    border-radius: var(--tour-card-radius);
    border: 1px solid var(--theme-border);
    box-shadow: var(--tour-card-shadow);
    padding: 16px 18px;
    pointer-events: auto;
}

.tour-card__title {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 6px;
    color: var(--theme-title);
}

.tour-card__body {
    font-size: 0.92rem;
    line-height: 1.4;
    color: var(--theme-text);
}

.tour-card__actions {
    display: flex;
    justify-content: flex-end;
    margin-top: 12px;
}

.tour-ok-btn {
    border-radius: 999px;
    border: 1px solid var(--theme-border);
    background-color: var(--theme-surface-alt);
    color: var(--theme-text);
    padding: 6px 16px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

.tour-ok-btn:hover,
.tour-ok-btn:focus {
    background-color: var(--theme-surface);
    border-color: var(--theme-accent);
    color: var(--theme-accent);
}

.tour-ok-btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--theme-accent) 25%, transparent);
}

@keyframes tour-pulse {
    0% {
        transform: scale(1);
        opacity: 0.85;
    }
    70% {
        transform: scale(1.06);
        opacity: 0;
    }
    100% {
        transform: scale(1.06);
        opacity: 0;
    }
}

@media (max-width: 600px) {
    .tour-card {
        width: calc(100vw - 24px);
        max-width: none;
        left: 12px !important;
        right: 12px;
    }
}
